
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>GoodPlates â€” Recipes</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
  <style>
    /* ===== Design tokens (Materio-inspired) ===== */
    :root{
      --bg: #ffffff;
      --fg: #0f172a;
      --muted: #6b7280;
      --muted-2: #9ca3af;
      --border: #e6e9ee;
      --surface: #ffffff;
      --surface-2: #f7f8fa;
      --primary: #16a34a;
      --primary-700: #15803d;
      --primary-100: #dcfce7;
      --ring: rgba(16,185,129,0.18);
      --shadow-soft: 0 8px 24px rgba(2,6,23,0.06);
      --shadow-2: 0 16px 48px rgba(2,6,23,0.08);
      --radius-lg: 14px;
      --radius-md: 10px;
      --container: 1200px;
    }

    /* ===== Base ===== */
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin: 0;
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      color:var(--fg);
      background:linear-gradient(180deg,#fbfcfd 0%, #ffffff 100%);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      -webkit-tap-highlight-color: transparent;
    }
    a{color:inherit;text-decoration:none}
    .container{max-width:var(--container); margin:0 auto; padding:0 20px}

    /* ===== Layout ===== */
    .topnav{
      display:flex; align-items:center; justify-content:space-between;
      padding:18px 24px; gap:16px;
      background:transparent;
      border-bottom:1px solid rgba(15,23,42,0.03);
      position:sticky; top:0; z-index:60;
      backdrop-filter: blur(6px);
    }
    .brand { display:flex; align-items:center; gap:12px; font-weight:700; letter-spacing:0.2px; color:var(--fg) }
    .brand .logo-sq{ width:40px;height:40px;border-radius:10px; display:flex; align-items:center; justify-content:center; color:white; font-weight:800; background:linear-gradient(90deg,var(--primary),var(--primary-700)); box-shadow: 0 6px 18px rgba(22,163,74,0.14) }

    .layout { display:grid; grid-template-columns:320px 1fr; gap:28px; padding:28px 0; align-items:start; }
    @media (max-width:1100px){ .layout{grid-template-columns:1fr} .sidebar{display:none} .open-sidebar{display:block; position:fixed; inset:0; z-index:80; background:rgba(0,0,0,0.35)} .sidebar.panel{position:fixed; left:0; top:0; bottom:0; height:100%; transform:translateX(0); box-shadow: var(--shadow-2); } }

    /* ===== Sidebar ===== */
    .sidebar{
      background:var(--surface); border:1px solid var(--border); border-radius:var(--radius-lg);
      padding:18px; height:calc(100vh - 92px); overflow:auto;
      box-shadow: var(--shadow-soft);
    }
    .title-lg{font-size:18px; font-weight:700; color:var(--fg)}
    .filter-block{ padding:16px; border-radius:10px; background:linear-gradient(180deg, rgba(250,250,250,0.6), rgba(255,255,255,0.6)); border:1px solid rgba(15,23,42,0.03); margin-bottom:14px }
    .filter-head{ display:flex; align-items:center; justify-content:space-between; margin-bottom:10px }
    .input{ width:100%; border:1px solid var(--border); border-radius:10px; padding:10px 12px; font-size:14px; background:var(--surface) }
    .chip{ display:flex; align-items:center; gap:10px; font-size:14px; padding:8px 10px; border-radius:999px; background:var(--surface-2); cursor:pointer; border:1px solid transparent }
    .chip input{ width:16px; height:16px }
    .chip:hover{ transform:translateY(-2px) }

    .range{ width:100% }
    .btn{ appearance:none; border:1px solid var(--border); background:var(--surface); color:var(--fg); padding:8px 14px; border-radius:10px; cursor:pointer; transition:all .14s ease; font-weight:600 }
    .btn:hover{ transform:translateY(-2px); box-shadow:var(--shadow-soft) }
    .btn.primary{ background:linear-gradient(90deg,var(--primary),var(--primary-700)); color:white; border:0 }
    .btn.ghost{ background:transparent; border:1px dashed rgba(15,23,42,0.04) }

    /* ===== Content area ===== */
    main { background:transparent; padding-bottom:60px }
    .main-header{ display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:18px; padding:6px 0}
    .muted{ color:var(--muted); font-size:13px }

    /* ===== Hero image ===== */
    .header-image{
      width:100%; height:220px; border-radius:14px; overflow:hidden;
      background-image: linear-gradient(180deg, rgba(0,0,0,0.06), rgba(0,0,0,0.06)), url('https://www.baltana.com/files/wallpapers-25/Breakfast-Wallpaper-3840x2160-65490.jpg');
      background-size:cover; background-position:center;
      box-shadow: var(--shadow-soft); border:1px solid var(--border);
    }
    .hero-text{ margin-top:12px; margin-bottom:18px; text-align:center }
    .hero-text h1{ font-size:28px; margin:6px 0; font-weight:800; letter-spacing:-0.6px }

    /* ===== Recipe grid & cards ===== */

    /* ===== Cards ===== */
    .card{background:var(--surface); border:1px solid var(--border); border-radius:var(--radius); overflow:hidden}
.card .card-media {
  height: 192px;
  background: linear-gradient(135deg,#ecfdf5,#f0fdf4);
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative; /* ðŸ‘ˆ This keeps absolutely-positioned elements inside */
}
    .grid {
    padding-left: 10px;
    padding-right: 10px;
  }
    .card .card-body{padding:16px 16px 20px}
    .card:hover{box-shadow:var(--shadow); transform:translateY(-2px); transition:transform .2s ease, box-shadow .2s ease}


    /* ===== Grids ===== */
    .grid{display:grid; gap:24px}
    @media(min-width:768px){
      .grid.cols-2{grid-template-columns:repeat(2,1fr)}
      .grid.cols-3{grid-template-columns:repeat(3,1fr)}
      .grid.cols-4{grid-template-columns:repeat(4,1fr)}
      .layout{grid-template-columns:320px 1fr}
    }
    @media(max-width:900px){
      .layout{grid-template-columns:1fr}
      .sidebar{display:none}
      .sidebar.open{display:block}
    }
    .badge{ padding:6px 10px; border-radius:999px; font-weight:700; font-size:12px; background:var(--primary-100); color:var(--primary) }

    /* ===== Modal ===== */
    .modal-backdrop{ display:none; position:fixed; inset:0; background:rgba(0,0,0,0.5); z-index:200; align-items:center; justify-content:center; padding:24px }
    .modal{ width:100%; max-width:920px; background:var(--surface); border-radius:16px; overflow:hidden; box-shadow:var(--shadow-2) }
    .modal .modal-media{ height:320px; background:#ddd; object-fit:cover }
    .modal .content{ padding:28px }
    .modal .close-btn{ position:absolute; right:18px; top:18px; background:rgba(0,0,0,0.6); color:#fff; border:0; padding:8px 12px; border-radius:10px; cursor:pointer }

    /* small helpers */
    .text-center{text-align:center}
    .small{font-size:13px}
    .muted-2{color:var(--muted-2)}
    .pill{ border-radius:999px; padding:6px 12px; font-weight:700; font-size:13px; background:var(--surface-2) }

    /* keep original minimal icon-btn */
    .icon-btn{ width:36px; height:36px; display:inline-flex; align-items:center; justify-content:center; border-radius:10px; border:1px solid var(--border); background:var(--surface) }

    /* accessibility focus */
    :focus{ outline: none }
    :focus-visible{ box-shadow: 0 0 0 4px var(--ring); border-radius:8px }
  </style>
</head>
<body>
<header class="gp-topnav" role="banner" aria-label="Main navigation">
  <div class="gp-container">

    <!-- Left: brand (icon + name) -->
    <a class="gp-brand" href="/" aria-label="GoodPlates home">
      <!-- plate + fork SVG icon -->
      <div class="gp-logo-sq" aria-hidden="true">
    <img src="favicon.png" alt="GoodPlates logo" style="width:100%;height:100%;object-fit:cover;border-radius:10px;">
</div>

     <div class="gp-brand-text" style="text-decoration:none;color:inherit">
        <div class="gp-name"><a href="/index.html" style="color:inherit;text-decoration:none;">GoodPlates</a></div>
        <div class="gp-sub small muted">Recipes & meal ideas</div>
      </div>
    </a>

    <!-- Center: links (desktop) -->
    <nav class="gp-links" role="navigation" aria-label="Primary">
      <ul>
        <li><a href="/recipes/">Recipes</a></li>
        <li><a href="/grocery-list/">Grocery List</a></li>
        <li><a href="/order-online/">Order Online</a></li>
        <li><a href="/statistics/">Statistics</a></li>
        <li><a href="/courses/">Courses</a></li>
        <li><a href="/contact/">Contact</a></li>
      </ul>
    </nav>

    <!-- Right: CTA + hamburger -->
    <div class="gp-actions">
      <!-- Login CTA (replaces Onboarding) -->
      <a href="/login-form/" class="gp-cta cta" title="Login">Login</a>

      <!-- mobile hamburger -->
      <button id="gpHamburger" class="gp-hamburger" aria-controls="gpMobileMenu" aria-expanded="false" aria-label="Open menu">
        <span class="bar"></span><span class="bar"></span><span class="bar"></span>
      </button>
    </div>

  </div>

  <!-- Mobile: slide-over menu (keeps all links + CTA) -->
  <aside id="gpMobileMenu" class="gp-mobile" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="gp-mobile-panel" role="document">
      <div class="gp-mobile-head">
        <div class="gp-mobile-brand" style="display:flex;align-items:center;gap:10px">
          <a href="/index.html">
            <div class="gp-logo-sq" style="width:36px;height:36px;border-radius:8px;display:flex;align-items:center;justify-content:center;color:white;background:linear-gradient(90deg,#16a34a,#15803d)">G</div>
          </a>
          <div class="gp-name"><a href="/index.html" style="color:inherit;text-decoration:none;">GoodPlates</a></div>
        </div>
        <button id="gpMobileClose" class="icon-btn" aria-label="Close menu">âœ•</button>
      </div>

      <nav class="gp-mobile-links" aria-label="Mobile primary">
        <ul>
          <li><a href="/recipes/">Recipes</a></li>
          <li><a href="/grocery-list/">Grocery List</a></li>
          <li><a href="/order-online/">Order Online</a></li>
          <li><a href="/statistics/">Statistics</a></li>
          <li><a href="/courses/">Courses</a></li>
          <li><a href="/contact/">Contact</a></li>
        </ul>
      </nav>

      <div class="gp-mobile-foot" style="margin-top:18px">
        <a href="/login-form/" class="gp-cta cta" style="width:100%; display:inline-block; text-align:center">Login</a>
      </div>
    </div>
    <div class="gp-mobile-overlay" tabindex="-1" data-close></div>
  </aside>

  <style>
    /* ===== tokens (consistency with page) ===== */
    :root{
      --primary: #16a34a;
      --primary-700: #15803d;
      --primary-100: #dcfce7;
      --fg: #0f172a;
      --muted: #6b7280;
      --border: #e6e9ee;
      --radius: 12px;
      --shadow-soft: 0 8px 24px rgba(2,6,23,0.06);
      --glass: rgba(255,255,255,0.72);
      --container: 1200px;
    }

    /* container + topbar */
    .gp-topnav{ position:sticky; top:0; z-index:80; backdrop-filter: blur(6px); background:linear-gradient(180deg,var(--glass), rgba(255,255,255,0.82)); border-bottom:1px solid rgba(15,23,42,0.03) }
    .gp-container{ max-width:var(--container); margin:0 auto; padding:12px 20px; display:flex; align-items:center; gap:20px; justify-content:flex-start; }
    
    .gp-brand{ display:flex; gap:12px; align-items:center; text-decoration:none }
    .gp-logo-sq{ width:44px; height:44px; border-radius:10px; display:flex; align-items:center; justify-content:center; color:white; font-weight:800; background:linear-gradient(90deg,var(--primary),var(--primary-700)); box-shadow:0 8px 20px rgba(22,163,74,0.12) }
    .gp-name{ font-weight:800; color:var(--fg); }
    .gp-sub{ font-size:12px; color:var(--muted) }

    /* links (desktop) â€” increased spacing by larger gap */
    .gp-links ul{ list-style:none; padding:0; margin:0; display:flex; gap:28px; align-items:center; }
    .gp-links a{ display:inline-flex; align-items:center; padding:10px 12px; border-radius:10px; color:var(--fg); font-weight:600; transition:all .12s ease; border:1px solid transparent; font-size:15px }
    .gp-links a:hover{ background:var(--primary-100); color:var(--primary); transform:translateY(-2px); box-shadow:var(--shadow-soft) }

    /* actions */
    .gp-actions{ display:flex; gap:12px; align-items:center; margin-left:auto }
    .icon-btn{ width:40px; height:40px; display:inline-flex; align-items:center; justify-content:center; border-radius:10px; border:1px solid var(--border); background:white; cursor:pointer; }
    .icon-btn:hover{ box-shadow:var(--shadow-soft); transform:translateY(-2px) }

    /* CTA pill */
    .gp-cta{
      display: inline-flex;       /* makes it flexible */
      align-items: center;        /* vertical centering */
      justify-content: center;    /* horizontal centering */
      padding: 8px 22px;
      min-width: 140px;           /* control width */
        border-radius: 999px;
      background: linear-gradient(90deg, var(--primary), var(--primary-700));
      color: white;
      font-weight: 700;
      text-decoration: none;
      box-shadow: 0 8px 20px rgba(22,163,74,0.12);
    }
.gp-cta:hover{ transform:translateY(-2px); filter:brightness(.96) }

    /* hamburger (mobile) */
    .gp-hamburger{ display:none; width:44px; height:44px; border-radius:10px; border:1px solid var(--border); background:var(--surface); align-items:center; justify-content:center; padding:8px; cursor:pointer }
    .gp-hamburger .bar{ display:block; width:18px; height:2px; background:var(--fg); margin:3px 0; transition:all .18s ease }

    /* mobile menu */
    .gp-mobile{ display:none; position:fixed; inset:0; z-index:100; }
    .gp-mobile-panel{ width:320px; max-width:90%; height:100%; background:white; box-shadow:0 30px 80px rgba(2,6,23,0.2); padding:18px; transform:translateX(-6px); border-right:1px solid var(--border); }
    .gp-mobile-head{ display:flex; align-items:center; justify-content:space-between; margin-bottom:12px }
    .gp-mobile-links ul{ list-style:none; padding:6px 0; margin:0; display:flex; flex-direction:column; gap:6px }
    .gp-mobile-links a{ display:block; padding:12px 10px; border-radius:8px; font-weight:700; color:var(--fg) }
    .gp-mobile-links a:hover{ background:var(--surface-2) }

    .gp-mobile-overlay{ position:fixed; inset:0; background:rgba(0,0,0,0.28); right:0; }

    /* responsive: remove desktop links at small sizes, show hamburger */
    @media (max-width:1100px){
      .gp-links{ display:none }
      .gp-hamburger{ display:inline-flex }
      /* keep CTA in mobile menu so hide on header */
      .gp-cta{ display:none }
    }

    .small{ font-size:12px; color:var(--muted) }
    .muted{ color:var(--muted) }
  </style>

  <script>
    (function(){
      const hamb = document.getElementById('gpHamburger');
      const mobile = document.getElementById('gpMobileMenu');
      const closeBtn = document.getElementById('gpMobileClose');
      const overlay = mobile?.querySelector('[data-close]');

      function openMobile(){
        mobile.style.display = 'block';
        mobile.setAttribute('aria-hidden','false');
        hamb.setAttribute('aria-expanded','true');
        document.body.style.overflow = 'hidden';
      }
      function closeMobile(){
        mobile.style.display = 'none';
        mobile.setAttribute('aria-hidden','true');
        hamb.setAttribute('aria-expanded','false');
        document.body.style.overflow = '';
      }

      hamb?.addEventListener('click', openMobile);
      closeBtn?.addEventListener('click', closeMobile);
      overlay?.addEventListener('click', closeMobile);
      document.addEventListener('keydown', (e)=> { if(e.key === 'Escape') closeMobile(); });

      window.addEventListener('resize', ()=> {
        if(window.matchMedia('(min-width:1101px)').matches){
          closeMobile();
        }
      });
    })();
  </script>
</header>

  <!-- HERO -->
  <div class="container" style="padding-top:18px">
    <div class="header-image"></div>
    <div class="hero-text">
        <br>
      <h1>Breakfast Recipes</h1>
      <div class="muted">Hand-picked breakfast ideas to start your day.</div>
    </div>
  </div>

  <!-- MAIN LAYOUT -->
  <div class="container layout">

    <!-- SIDEBAR -->
    <aside id="sidebar" class="sidebar" aria-labelledby="filtersHeading">
      <div class="filter-block">
        <div class="filter-head">
          <div>
            <div id="filtersHeading" class="title-lg">Filters</div>
            <div class="small muted">Narrow down recipes</div>
          </div>
          <button class="btn ghost" data-toggle="sidebar" aria-label="Close filters">âœ•</button>
        </div>

        <div style="margin-top:10px; position:relative">
          <svg width="14" height="14" style="position:absolute; left:12px; top:12px; color:var(--muted)"><circle cx="7" cy="7" r="6" stroke="currentColor" stroke-width="1.2" fill="none"/></svg>
          <input id="filter-search" class="input" placeholder="Search recipes..." style="padding-left:36px" />
        </div>
      </div>
<!-- Rating -->
<div class="filter-block">
  <h3 class="small" style="margin:0 0 8px 0">Rating</h3>
  <div style="display:flex;flex-direction:column;gap:8px">
    <label class="chip"><input type="checkbox" data-filter="rating" value="5"/> <span class="stars">â˜…â˜…â˜…â˜…â˜…</span> &nbsp;&amp; up</label>
    <label class="chip"><input type="checkbox" data-filter="rating" value="4"/> <span class="stars">â˜…â˜…â˜…â˜…â˜†</span> &nbsp;&amp; up</label>
    <label class="chip"><input type="checkbox" data-filter="rating" value="3"/> <span class="stars">â˜…â˜…â˜…â˜†â˜†</span> &nbsp;&amp; up</label>
    <label class="chip"><input type="checkbox" data-filter="rating" value="2"/> <span class="stars">â˜…â˜…â˜†â˜†â˜†</span> &nbsp;&amp; up</label>
    <label class="chip"><input type="checkbox" data-filter="rating" value="1"/> <span class="stars">â˜…â˜†â˜†â˜†â˜†</span> &nbsp;&amp; up</label>
  </div>
</div>

<!-- Prep Time -->
<div class="filter-block">
  <h3 class="small" style="margin:0 0 8px 0">Prep Time</h3>
  <input id="filter-prepTime" class="range" type="range" min="5" max="180" step="5" value="60" />
  <div class="small muted" style="display:flex;justify-content:space-between;margin-top:8px;">
    <span>5 min</span><span>3+ hours</span>
  </div>
</div>

<!-- Calories -->
<div class="filter-block">
  <h3 class="small" style="margin:0 0 8px 0">Calories</h3>
  <div style="display:flex;flex-direction:column;gap:8px">
    <label class="chip"><input type="checkbox" data-filter="calories" value="under-200"/> Under 200 calories</label>
    <label class="chip"><input type="checkbox" data-filter="calories" value="200-400"/> 200-400 calories</label>
    <label class="chip"><input type="checkbox" data-filter="calories" value="400-600"/> 400-600 calories</label>
    <label class="chip"><input type="checkbox" data-filter="calories" value="600-800"/> 600-800 calories</label>
    <label class="chip"><input type="checkbox" data-filter="calories" value="800-plus"/> 800+ calories</label>
  </div>
</div>

<!-- Diet Type -->
<div class="filter-block">
  <h3 class="small" style="margin:0 0 8px 0">Diet Type</h3>
  <div style="display:flex;flex-direction:column;gap:8px">
    <label class="chip"><input type="checkbox" data-filter="tags" value="Vegetarian"/> Vegetarian</label>
    <label class="chip"><input type="checkbox" data-filter="tags" value="Vegan"/> Vegan</label>
    <label class="chip"><input type="checkbox" data-filter="tags" value="Gluten-Free"/> Gluten-Free</label>
    <label class="chip"><input type="checkbox" data-filter="tags" value="Keto"/> Keto</label>
    <label class="chip"><input type="checkbox" data-filter="tags" value="Paleo"/> Paleo</label>
    <label class="chip"><input type="checkbox" data-filter="tags" value="Halal"/> Halal</label>
  </div>
</div>

<!-- Ingredients -->
<div class="filter-block">
  <h3 class="small" style="margin:0 0 8px 0">Ingredients</h3>
  <input id="filter-ingredients" class="range" type="range" min="3" max="20" step="1" value="10" />
  <div class="small muted" style="display:flex;justify-content:space-between;margin-top:8px;">
    <span>3 ingredients</span><span>20+ ingredients</span>
  </div>
</div>

<!-- Clear Filters button -->
<div class="filter-block">
  <button id="clearFilters" class="btn w-100">Clear All Filters</button>
</div>
      <div class="filter-block" style="display:flex;gap:10px;align-items:center;justify-content:space-between">
        <button id="clearFilters" class="btn w-100">Clear All</button>
        <button id="applyFilters" class="btn primary">Apply</button>
      </div>
    </aside>

    <!-- MAIN -->
    <main>
      <div class="main-header">
        <div>
          <h2 class="title-lg" style="margin:0">All Recipes</h2>
          <div class="muted small">Showing <span id="totalRecipes">â€”</span> recipes</div>
        </div>
        <div style="display:flex;align-items:center;gap:10px">
        </div>
      </div>

      <!-- Grid of recipe cards (script should populate #recipeGrid) -->
      <section class="section">
        <div id="recipeGrid" class="grid cols-3">
          <!-- Cards will be injected here by your existing recipes.js or scripts.js -->
        </div>

        <div class="text-center" style="margin-top:18px">
          <button id="loadMore" class="btn">Load More Recipes</button>
        </div>
      </section>
    </main>
  </div>

  <!-- Modal (keeps original IDs) -->
  <div id="recipeModalBackdrop" class="modal-backdrop" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal" role="document">
      <div style="position:relative">
        <img id="modalImage" class="modal-media" src="" alt="" />
        <button id="closeModal" class="close-btn" aria-label="Close recipe">âœ•</button>
      </div>
      <div class="content">
        <h2 id="modalTitle" style="margin:0 0 12px 0; font-size:24px; font-weight:800"></h2>
        <div id="modalTags" style="display:flex;gap:8px;flex-wrap:wrap;margin-bottom:14px"></div>
        <div id="modalFilters" class="small muted" style="margin-bottom:18px"></div>

        <div id="modalBody" style="max-height:360px; overflow:auto; padding-right:8px">
          <h3 style="margin:0 0 6px 0; font-size:16px">Ingredients</h3>
          <ul id="modalIngredients" style="margin:0 0 14px 0; padding-left:18px; color:var(--muted)"></ul>

          <h3 style="margin:0 0 6px 0; font-size:16px">Instructions</h3>
          <div id="modalInstructions" style="color:var(--muted)"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Small UI JS: sidebar toggle and modal handling (non-invasive) -->
  <script>
    (function(){
      // Sidebar mobile toggle support (keeps data-open/data-toggle)
      const sidebar = document.getElementById('sidebar');
      const mobileOpen = document.getElementById('mobileOpen');
      const closeBtn = document.querySelector('[data-toggle="sidebar"]');
      function setMobileControls(){
        const isMobile = window.matchMedia('(max-width:1100px)').matches;
        mobileOpen.style.display = isMobile ? 'inline-flex' : 'none';
        if(!isMobile){
          // ensure sidebar visible on desktop
          sidebar.style.display = '';
        }
      }
      setMobileControls();
      window.addEventListener('resize', setMobileControls);
      mobileOpen.addEventListener('click', ()=> {
        // create overlay container
        const overlay = document.createElement('div');
        overlay.className = 'open-sidebar';
        overlay.id = 'overlaySidebar';
        overlay.innerHTML = '';
        document.body.appendChild(overlay);
        // move sidebar into overlay (clone into panel)
        const panel = sidebar.cloneNode(true);
        panel.classList.add('panel');
        panel.style.width = '320px';
        panel.style.marginLeft = 0;
        overlay.appendChild(panel);
        // wire close inside cloned panel
        panel.querySelector('[data-toggle="sidebar"]')?.addEventListener('click', ()=> {
          overlay.remove();
        });
        // close when clicking outside
        overlay.addEventListener('click', (ev)=> {
          if(ev.target === overlay) overlay.remove();
        });
      });
      closeBtn?.addEventListener('click', function(){ // desktop close (keeps behavior)
        if(window.matchMedia('(max-width:1100px)').matches){
          // remove overlay if present
          document.getElementById('overlaySidebar')?.remove();
        } else {
          // hide sidebar visually on desktop if user wants
          sidebar.style.display = 'none';
        }
      });
    })();

    // Modal behavior: show/hide, accessible
    (function(){
      const backdrop = document.getElementById('recipeModalBackdrop');
      const closeModal = document.getElementById('closeModal');
      function openModal(){
        backdrop.style.display = 'flex';
        backdrop.setAttribute('aria-hidden','false');
        document.body.style.overflow = 'hidden';
      }
      function hideModal(){
        backdrop.style.display = 'none';
        backdrop.setAttribute('aria-hidden','true');
        document.body.style.overflow = '';
      }
      closeModal?.addEventListener('click', hideModal);
      backdrop?.addEventListener('click', (e)=> { if(e.target === backdrop) hideModal(); });
      document.addEventListener('keydown', (e)=> { if(e.key === 'Escape') hideModal(); });

      // expose a simple helper for external scripts
      window.GoodPlates = window.GoodPlates || {};
      window.GoodPlates.openRecipeModal = function(data){
        // data: { image, title, tags, filtersHtml, ingredients:[], instructions }
        document.getElementById('modalImage').src = data.image || '';
        document.getElementById('modalTitle').textContent = data.title || '';
        const tagsEl = document.getElementById('modalTags'); tagsEl.innerHTML = '';
        (data.tags || []).forEach(t => {
          const span = document.createElement('span'); span.className = 'pill'; span.textContent = t; tagsEl.appendChild(span);
        });
        document.getElementById('modalFilters').innerHTML = data.filtersHtml || '';
        const ing = document.getElementById('modalIngredients'); ing.innerHTML = ''; (data.ingredients||[]).forEach(i=>{ const li=document.createElement('li'); li.textContent=i; ing.appendChild(li); });
        document.getElementById('modalInstructions').innerHTML = data.instructions || '';
        openModal();
      };
    })();
  </script>
    <script>
  // Narrow down recipes to breakfast only.
    window.recipes = (window.recipes || []).filter(r => {
      const v = (r.mealtype ?? r.mealType ?? '').toString().trim().toLowerCase();
      return v === 'breakfast';
     });
   </script>
  
  <!-- Keep your existing scripts (they will still find the same IDs) -->
  <script src="../recipes.js"></script>
  <script src="../scripts.js"></script>
</body>
</html>
